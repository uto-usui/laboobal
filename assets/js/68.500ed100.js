(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{564:function(e,t,n){var o,i=window.THREE||n(347);e.exports=o=function(e,t){var n=this,o=-1,s=0,a=1,r=2,c=3,h=4;this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.target=new i.Vector3;var p=new i.Vector3,d=o,l=o,u=new i.Vector3,m=new i.Vector2,g=new i.Vector2,y=new i.Vector3,w=0,v=new i.Vector2,f=new i.Vector2,b=0,E=0,L=new i.Vector2,k=new i.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone();var C={type:"change"},V={type:"start"},S={type:"end"};this.handleResize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else{var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}},this.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)};var P,x,j,D,M,Y,X,R,z,F,A,q=(P=new i.Vector2,function(e,t){return P.set((e-n.screen.left)/n.screen.width,(t-n.screen.top)/n.screen.height),P}),G=function(){var e=new i.Vector2;return function(t,o){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-o))/n.screen.width),e}}();function T(e,t){return Array.isArray(e)?-1!==e.indexOf(t):e===t}function Z(e){!1!==n.enabled&&(window.removeEventListener("keydown",Z),l=d,d===o&&(T(n.keys[s],e.keyCode)&&!n.noRotate?d=s:T(n.keys[a],e.keyCode)&&!n.noZoom?d=a:T(n.keys[r],e.keyCode)&&!n.noPan&&(d=r)))}function B(e){!1!==n.enabled&&(d=l,window.addEventListener("keydown",Z,!1))}function O(e){!1!==n.enabled&&(e.preventDefault(),e.stopPropagation(),d===o&&(d=e.button),d!==s||n.noRotate?d!==a||n.noZoom?d!==r||n.noPan||(L.copy(q(e.pageX,e.pageY)),k.copy(L)):(v.copy(q(e.pageX,e.pageY)),f.copy(v)):(g.copy(G(e.pageX,e.pageY)),m.copy(g)),document.addEventListener("mousemove",Q,!1),document.addEventListener("mouseup",H,!1),n.dispatchEvent(V))}function Q(e){!1!==n.enabled&&(e.preventDefault(),e.stopPropagation(),d!==s||n.noRotate?d!==a||n.noZoom?d!==r||n.noPan||k.copy(q(e.pageX,e.pageY)):f.copy(q(e.pageX,e.pageY)):(m.copy(g),g.copy(G(e.pageX,e.pageY))))}function H(e){!1!==n.enabled&&(e.preventDefault(),e.stopPropagation(),d=o,document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",H),n.dispatchEvent(S))}function I(e){if(!1!==n.enabled){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:v.y-=.025*e.deltaY;break;case 1:v.y-=.01*e.deltaY;break;default:v.y-=25e-5*e.deltaY}n.dispatchEvent(V),n.dispatchEvent(S)}}function J(e){if(!1!==n.enabled){switch(e.touches.length){case 1:d=c,g.copy(G(e.touches[0].pageX,e.touches[0].pageY)),m.copy(g);break;default:d=h;var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY;E=b=Math.sqrt(t*t+o*o);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,s=(e.touches[0].pageY+e.touches[1].pageY)/2;L.copy(q(i,s)),k.copy(L)}n.dispatchEvent(V)}}function W(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:m.copy(g),g.copy(G(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY;E=Math.sqrt(t*t+o*o);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,s=(e.touches[0].pageY+e.touches[1].pageY)/2;k.copy(q(i,s))}}function K(e){if(!1!==n.enabled){switch(e.touches.length){case 0:d=o;break;case 1:d=c,g.copy(G(e.touches[0].pageX,e.touches[0].pageY)),m.copy(g)}n.dispatchEvent(S)}}function N(e){!1!==n.enabled&&e.preventDefault()}this.rotateCamera=(j=new i.Vector3,D=new i.Quaternion,M=new i.Vector3,Y=new i.Vector3,X=new i.Vector3,R=new i.Vector3,function(){R.set(g.x-m.x,g.y-m.y,0),(x=R.length())?(u.copy(n.object.position).sub(n.target),M.copy(u).normalize(),Y.copy(n.object.up).normalize(),X.crossVectors(Y,M).normalize(),Y.setLength(g.y-m.y),X.setLength(g.x-m.x),R.copy(Y.add(X)),j.crossVectors(R,u).normalize(),x*=n.rotateSpeed,D.setFromAxisAngle(j,x),u.applyQuaternion(D),n.object.up.applyQuaternion(D),y.copy(j),w=x):!n.staticMoving&&w&&(w*=Math.sqrt(1-n.dynamicDampingFactor),u.copy(n.object.position).sub(n.target),D.setFromAxisAngle(y,w),u.applyQuaternion(D),n.object.up.applyQuaternion(D)),m.copy(g)}),this.zoomCamera=function(){var e;d===h?(e=b/E,b=E,u.multiplyScalar(e)):(1!==(e=1+(f.y-v.y)*n.zoomSpeed)&&e>0&&u.multiplyScalar(e),n.staticMoving?v.copy(f):v.y+=(f.y-v.y)*this.dynamicDampingFactor)},this.panCamera=(z=new i.Vector2,F=new i.Vector3,A=new i.Vector3,function(){z.copy(k).sub(L),z.lengthSq()&&(z.multiplyScalar(u.length()*n.panSpeed),A.copy(u).cross(n.object.up).setLength(z.x),A.add(F.copy(n.object.up).setLength(z.y)),n.object.position.add(A),n.target.add(A),n.staticMoving?L.copy(k):L.add(z.subVectors(k,L).multiplyScalar(n.dynamicDampingFactor)))}),this.checkDistances=function(){n.noZoom&&n.noPan||(u.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,u.setLength(n.maxDistance)),v.copy(f)),u.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,u.setLength(n.minDistance)),v.copy(f)))},this.update=function(){u.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,u),n.checkDistances(),n.object.lookAt(n.target),p.distanceToSquared(n.object.position)>1e-6&&(n.dispatchEvent(C),p.copy(n.object.position))},this.reset=function(){d=o,l=o,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),u.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(C),p.copy(n.object.position)},this.dispose=function(){this.domElement.removeEventListener("contextmenu",N,!1),this.domElement.removeEventListener("mousedown",O,!1),this.domElement.removeEventListener("wheel",I,!1),this.domElement.removeEventListener("touchstart",J,!1),this.domElement.removeEventListener("touchend",K,!1),this.domElement.removeEventListener("touchmove",W,!1),document.removeEventListener("mousemove",Q,!1),document.removeEventListener("mouseup",H,!1),window.removeEventListener("keydown",Z,!1),window.removeEventListener("keyup",B,!1)},this.domElement.addEventListener("contextmenu",N,!1),this.domElement.addEventListener("mousedown",O,!1),this.domElement.addEventListener("wheel",I,!1),this.domElement.addEventListener("touchstart",J,!1),this.domElement.addEventListener("touchend",K,!1),this.domElement.addEventListener("touchmove",W,!1),window.addEventListener("keydown",Z,!1),window.addEventListener("keyup",B,!1),this.handleResize(),this.update()},o.prototype=Object.create(i.EventDispatcher.prototype)},567:function(e,t,n){"use strict";n.r(t),n.d(t,"VideoScript",(function(){return c}));n(11),n(39);var o=n(19),i=n(29),s=n(347),a=n(564),r=n.n(a),c=function(){function e(t){var n=t.wrap,i=t.video;return Object(o.a)(this,e),this.scene=new s.Scene,this.wrap=n,this.video=i,this.renderer=null,this.camera=null,this.trackballControls=null,this.groundPlane=null,this.ambientLight=null,this.spotLight=null,this.mesh=null,this.material=null,this.geometry=null,this.initRenderer(),this.initCamera(),this.initTrackballControls(),this.addLargeGroundPlane(),this.initDefaultLighting(),this.initTexture(),this.addGeometry(),this.clock=new s.Clock,this.render(),this}return Object(i.a)(e,[{key:"initRenderer",value:function(){this.renderer=new s.WebGLRenderer,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMapSoft=!0,this.renderer.shadowMap.type=s.PCFSoftShadowMap,this.renderer.setClearColor(new s.Color(12255232)),this.renderer.setSize(this.wrap.getBoundingClientRect().width,this.wrap.getBoundingClientRect().height),this.wrap.appendChild(this.renderer.domElement)}},{key:"initCamera",value:function(){this.camera=new s.PerspectiveCamera(45,this.wrap.getBoundingClientRect().width/this.wrap.getBoundingClientRect().height,.1,1e3),this.camera.position.copy(new s.Vector3(40,0,50)),this.camera.lookAt(new s.Vector3(0,0,0))}},{key:"initTrackballControls",value:function(){this.trackballControls=new r.a(this.camera,this.wrap),this.trackballControls.rotateSpeed=1,this.trackballControls.zoomSpeed=1.5,this.trackballControls.panSpeed=1,this.trackballControls.noZoom=!1,this.trackballControls.noPan=!1,this.trackballControls.staticMoving=!0,this.trackballControls.dynamicDampingFactor=.1,this.trackballControls.keys=[65,83,68]}},{key:"addLargeGroundPlane",value:function(){var e=new s.PlaneGeometry(1e3,1e3),t=new s.MeshPhongMaterial({color:16777215});this.groundPlane=new s.Mesh(e,t),this.groundPlane.receiveShadow=!0,this.groundPlane.rotation.x=-.5*Math.PI,this.groundPlane.position.x=0,this.groundPlane.position.y=0,this.groundPlane.position.z=0,this.groundPlane.position.y=-20,this.scene.add(this.groundPlane)}},{key:"initDefaultLighting",value:function(){this.spotLight=new s.SpotLight(16777215),this.spotLight.position.copy(new s.Vector3(0,30,50)),this.spotLight.shadow.mapSize.width=2048,this.spotLight.shadow.mapSize.height=2048,this.spotLight.shadow.camera.fov=15,this.spotLight.castShadow=!0,this.spotLight.decay=2,this.spotLight.penumbra=.05,this.scene.add(this.spotLight),this.ambientLight=new s.AmbientLight(4473924),this.scene.add(this.ambientLight)}},{key:"initTexture",value:function(){this.texture=new s.VideoTexture(this.video),this.texture.minFilter=s.LinearFilter,this.texture.magFilter=s.LinearFilter,this.texture.format=s.RGBFormat,this.texture.generateMipmaps=!1}},{key:"addGeometry",value:function(){this.geometry=new s.IcosahedronGeometry(8,0),this.material=new s.MeshStandardMaterial({map:this.texture,metalness:.2,roughness:.05}),this.mesh=new s.Mesh(this.geometry,this.material),this.mesh.castShadow=!0,this.scene.add(this.mesh)}},{key:"render",value:function(){var e=this;this.trackballControls.update(this.clock.getDelta()),this.renderer.render(this.scene,this.camera),this.mesh.rotation.x+=.01;requestAnimationFrame((function(t){return e.render(t)}))}},{key:"destroy",value:function(){this.trackballControls.dispose(),this.scene.remove(this.mesh),this.geometry.dispose(),this.material.dispose(),this.renderer.domElement=null}}]),e}()}}]);