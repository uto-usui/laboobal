(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{121:function(t,e,n){"use strict";var i=n(34),r=n(84)(1);i(i.P+i.F*!n(85)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},122:function(t,e,n){var i=n(22);t.exports=Array.isArray||function(t){return"Array"==i(t)}},125:function(t,e,n){var i=n(126);t.exports=function(t,e){return new(i(t))(e)}},126:function(t,e,n){var i=n(6),r=n(122),o=n(70)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},140:function(t,e,n){var i=n(34);i(i.P,"Function",{bind:n(142)})},142:function(t,e,n){"use strict";var i=n(40),r=n(6),o=n(143),s=[].slice,u={},a=function(t,e,n){if(!(e in u)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";u[e]=Function("F,a","return new F("+i.join(",")+")")}return u[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=s.call(arguments,1),u=function(){var i=n.concat(s.call(arguments));return this instanceof u?a(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(u.prototype=e.prototype),u}},143:function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},185:function(t,e,n){var i=n(22),r=n(70)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},186:function(t,e,n){"use strict";var i,r,o=n(208),s=RegExp.prototype.exec,u=String.prototype.replace,a=s,c=(i=/a/,r=/b*/g,s.call(i,"a"),s.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),l=void 0!==/()??/.exec("")[1];(c||l)&&(a=function(t){var e,n,i,r,a=this;return l&&(n=new RegExp("^"+a.source+"$(?!\\s)",o.call(a))),c&&(e=a.lastIndex),i=s.call(a,t),c&&i&&(a.lastIndex=a.global?i.index+i[0].length:e),l&&i&&i.length>1&&u.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=a},189:function(t,e,n){"use strict";var i=n(34),r=n(43)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!n(85)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},204:function(t,e,n){var i=n(6),r=n(22),o=n(70)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},205:function(t,e,n){"use strict";var i=n(210)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},206:function(t,e,n){"use strict";var i=n(185),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},207:function(t,e,n){"use strict";n(211);var i=n(20),r=n(19),o=n(8),s=n(21),u=n(70),a=n(186),c=u("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=u(t),p=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),v=p?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[h](""),!e})):void 0;if(!p||!v||"replace"===t&&!l||"split"===t&&!f){var d=/./[h],g=n(s,h,""[t],(function(t,e,n,i,r){return e.exec===a?p&&!r?{done:!0,value:d.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),x=g[0],m=g[1];i(String.prototype,t,x),r(RegExp.prototype,h,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},208:function(t,e,n){"use strict";var i=n(9);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},210:function(t,e,n){var i=n(28),r=n(21);t.exports=function(t){return function(e,n){var o,s,u=String(r(e)),a=i(n),c=u.length;return a<0||a>=c?t?"":void 0:(o=u.charCodeAt(a))<55296||o>56319||a+1===c||(s=u.charCodeAt(a+1))<56320||s>57343?t?u.charAt(a):o:t?u.slice(a,a+2):s-56320+(o-55296<<10)+65536}}},211:function(t,e,n){"use strict";var i=n(186);n(34)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},240:function(t,e,n){var i=n(9),r=n(40),o=n(70)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||null==(n=i(s)[o])?e:r(n)}},241:function(t,e,n){},357:function(t,e,n){"use strict";var i=n(204),r=n(9),o=n(240),s=n(205),u=n(35),a=n(206),c=n(186),l=n(8),f=Math.min,h=[].push,p=!l((function(){RegExp(4294967295,"y")}));n(207)("split",2,(function(t,e,n,l){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);for(var o,s,u,a=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,p=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,l+"g");(o=c.call(v,r))&&!((s=v.lastIndex)>f&&(a.push(r.slice(f,o.index)),o.length>1&&o.index<r.length&&h.apply(a,o.slice(1)),u=o[0].length,f=s,a.length>=p));)v.lastIndex===o.index&&v.lastIndex++;return f===r.length?!u&&v.test("")||a.push(""):a.push(r.slice(f)),a.length>p?a.slice(0,p):a}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r,i):v.call(String(r),n,i)},function(t,e){var i=l(v,t,this,e,v!==n);if(i.done)return i.value;var c=r(t),h=String(this),d=o(c,RegExp),g=c.unicode,x=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),m=new d(p?c:"^(?:"+c.source+")",x),y=void 0===e?4294967295:e>>>0;if(0===y)return[];if(0===h.length)return null===a(m,h)?[h]:[];for(var w=0,b=0,S=[];b<h.length;){m.lastIndex=p?b:0;var P,M=a(m,p?h:h.slice(b));if(null===M||(P=f(u(m.lastIndex+(p?0:b)),h.length))===w)b=s(h,b,g);else{if(S.push(h.slice(w,b)),S.length===y)return S;for(var C=1;C<=M.length-1;C++)if(S.push(M[C]),S.length===y)return S;b=w=P}}return S.push(h.slice(w)),S}]}))},358:function(t,e,n){"use strict";var i=n(241);n.n(i).a},453:function(t,e,n){"use strict";n.r(e);n(357),n(121),n(189),n(140);var i=n(64),r=n(65),o=n(130),s=n(61),u=function(t){return"\n  uniform float uProgress;\n  uniform vec2 uMeshScale;\n  uniform vec2 uMeshPosition;\n  uniform vec2 uViewSize;\n\n\n  void main(){\n    vec3 pos = position.xyz;\n\n    ".concat(t,"\n\n    float latestStart = 0.5;\n    float startAt = activation * latestStart;\n    float vertexProgress = smoothstep(startAt,1.,uProgress);\n\n    // Scale to page view size/page size\n    vec2 scaleToViewSize = uViewSize / uMeshScale - 1.;\n    vec2 scale = vec2(\n      1. + scaleToViewSize * vertexProgress\n    );\n    pos.xy *= scale;\n\n    // Move towards center\n    pos.y += -uMeshPosition.y * vertexProgress;\n    pos.x += -uMeshPosition.x * vertexProgress;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos,1.);\n\n  }\n")},a="\n  uniform vec3 uColor;\n\n  void main(){\n    vec3 color = uColor /255.;\n    gl_FragColor = vec4(color,1.);\n  }\n",c=u("\n  float activation = uv.x;\n"),l=function(){function t(e){var n=e.canvas,r=e.items;Object(i.a)(this,t),this.canvas=n,this.items=r,this.camera=null,this.scene=null,this.renderer=null,this.width=n.offsetWidth,this.height=n.offsetHeight,console.log(this.width,this.height),this.vertexShader=c,this.fragmentShader=a,this.uniforms={uProgress:new o.Uniform(0),uMeshScale:new o.Uniform(new o.Vector2(1,1)),uMeshPosition:new o.Uniform(new o.Vector2(0,0)),uViewSize:new o.Uniform(new o.Vector2(1,1)),uColor:new o.Uniform(new o.Vector3(20,20,20))},this.animating=!1,this.state="grid",this.itemIndex=-1}return Object(r.a)(t,[{key:"toGrid",value:function(){var t=this;"grid"===this.state||this.isAnimating||(this.animating=!0,this.tween=s.g.to(this.uniforms.uProgress,1,{value:0,onUpdate:this.render.bind(this),onComplete:function(){t.isAnimating=!1,t.state="grid",t.canvas.style.zIndex=-1,t.items[t.itemIndex].style.opacity=1}}))}},{key:"toFullscreen",value:function(){var t=this;"fullscreen"===this.state||this.isAnimating||(this.animating=!0,this.canvas.style.zIndex=2,this.items[this.itemIndex].style.opacity=0,this.tween=s.g.to(this.uniforms.uProgress,1,{value:1,onUpdate:this.render.bind(this),onComplete:function(){t.isAnimating=!1,t.state="fullscreen",t.toGrid()}}))}},{key:"init",value:function(){var t=this;this.renderer=new o.WebGLRenderer({canvas:this.canvas,alpha:!0,antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),this.scene=new o.Scene,this.camera=new o.PerspectiveCamera(45,this.width/this.height,.1,1e4),this.camera.position.z=50,this.camera.lookAt=this.scene.position;var e=this.getViewSize();this.uniforms.uViewSize.value.x=e.width,this.uniforms.uViewSize.value.y=e.height;var n=new o.PlaneBufferGeometry(1,1,128,128),i=new o.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,side:o.DoubleSide});this.mesh=new o.Mesh(n,i),this.scene.add(this.mesh),window.addEventListener("resize",this.onResize.bind(this));for(var r=function(e){t.items[e].addEventListener("click",(function(n){return t.onGridImageClick(n,e)}))},s=0;s<this.items.length;s++)r(s);this.vertexShader=this.setVertex(u("\n  float activation = uv.x;\n"))}},{key:"updateMesh",value:function(){if(-1!==this.itemIndex){var t=this.items[this.itemIndex],e=t.getBoundingClientRect(),n=this.canvas.getBoundingClientRect(),i=this.getViewSize(),r=e.width*i.width/this.width,o=e.height*i.height/this.height,s=(e.left-n.left)*i.width/this.width,u=(e.top-n.top)*i.height/this.height,a=(s-=i.width/2)+r/2,c=-(u-=i.height/2)-o/2,l=this.mesh;l.scale.x=r,l.scale.y=o,l.position.x=a,l.position.y=c,this.uniforms.uMeshPosition.value.x=a/r,this.uniforms.uMeshPosition.value.y=c/o,this.uniforms.uMeshScale.value.x=r,this.uniforms.uMeshScale.value.y=o;var f=window.getComputedStyle(t).getPropertyValue("background-color"),h=(f=f.substring(f.indexOf("(")+1,f.indexOf(")"))).split(",",3).map((function(t){return parseInt(t)}));this.uniforms.uColor.value.x=h[0],this.uniforms.uColor.value.y=h[1],this.uniforms.uColor.value.z=h[2]}}},{key:"onGridImageClick",value:function(t,e){console.log("click"),this.itemIndex=e,this.updateMesh(),this.toFullscreen()}},{key:"setVertex",value:function(t){this.mesh.material.vertexShader=t,this.mesh.material.needsUpdate=!0}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"getViewSize",value:function(){var t=this.camera.fov*Math.PI/180,e=Math.abs(this.camera.position.z*Math.tan(t/2)*2);return{width:e*this.camera.aspect,height:e}}},{key:"onResize",value:function(){this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height),this.updateMesh(),this.render()}}]),t}(),f={name:"ThreeScale",data:function(){return{scale:null}},watch:{},mounted:function(){this.scale=new l({canvas:this.$refs.canvas,items:this.$refs.item}),this.scale.init()},beforeDestroy:function(){},methods:{}},h=(n(358),n(2)),p=Object(h.a)(f,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"wrap",staticClass:"wrap"},[e("canvas",{ref:"canvas",staticClass:"canvas",attrs:{id:"canvas"}}),this._v(" "),e("ul",{staticClass:"list"},this._l(2,(function(t){return e("li",{key:"listItem"+t,ref:"item",refInFor:!0,staticClass:"list__item"})})),0)])}),[],!1,null,"e4b988a8",null);e.default=p.exports},62:function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},63:function(t,e,n){t.exports=!n(74)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},66:function(t,e,n){var i=n(75),r=n(89),o=n(88),s=Object.defineProperty;e.f=n(63)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},67:function(t,e,n){var i=n(68),r=n(62),o=n(73),s=n(77),u=n(83),a=function(t,e,n){var c,l,f,h=t&a.F,p=t&a.G,v=t&a.S,d=t&a.P,g=t&a.B,x=t&a.W,m=p?r:r[e]||(r[e]={}),y=m.prototype,w=p?i:v?i[e]:(i[e]||{}).prototype;for(c in p&&(n=e),n)(l=!h&&w&&void 0!==w[c])&&u(m,c)||(f=l?w[c]:n[c],m[c]=p&&"function"!=typeof w[c]?n[c]:g&&l?o(f,i):x&&w[c]==f?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):d&&"function"==typeof f?o(Function.call,f):f,d&&((m.virtual||(m.virtual={}))[c]=f,t&a.R&&y&&!y[c]&&s(y,c,f)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},68:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},69:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},70:function(t,e,n){var i=n(25)("wks"),r=n(23),o=n(3).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},73:function(t,e,n){var i=n(86);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},74:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},75:function(t,e,n){var i=n(69);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},76:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},77:function(t,e,n){var i=n(66),r=n(76);t.exports=n(63)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},83:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},84:function(t,e,n){var i=n(24),r=n(37),o=n(91),s=n(35),u=n(125);t.exports=function(t,e){var n=1==t,a=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f,p=e||u;return function(e,u,v){for(var d,g,x=o(e),m=r(x),y=i(u,v,3),w=s(m.length),b=0,S=n?p(e,w):a?p(e,0):void 0;w>b;b++)if((h||b in m)&&(g=y(d=m[b],b,x),t))if(n)S[b]=g;else if(g)switch(t){case 3:return!0;case 5:return d;case 6:return b;case 2:S.push(d)}else if(l)return!1;return f?-1:c||l?l:S}}},85:function(t,e,n){"use strict";var i=n(8);t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},86:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},87:function(t,e,n){var i=n(69),r=n(68).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},88:function(t,e,n){var i=n(69);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},89:function(t,e,n){t.exports=!n(63)&&!n(74)((function(){return 7!=Object.defineProperty(n(87)("div"),"a",{get:function(){return 7}}).a}))},91:function(t,e,n){var i=n(21);t.exports=function(t){return Object(i(t))}}}]);