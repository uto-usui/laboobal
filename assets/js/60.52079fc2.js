(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{392:function(t,i,s){},479:function(t,i,s){"use strict";s(392)},576:function(t,i,s){"use strict";s.r(i);var h=s(0);class a{constructor(t,i){return this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.animId=0,this._isShow=!1,this.img=new Image,this.img.onload=()=>this.render(),this.img.src=i,this.x=1,this.y=-1,this}get isShow(){return this._isShow}set isShow(t){this._isShow=t,this.x=1,this.y=-1}init(){if(!this.canvas)return;const{width:t,height:i}=this.canvas.getBoundingClientRect();this.canvas.width=t,this.canvas.height=i}render(){if(!this.ctx||!this.canvas)return;const t=this.canvas.width,i=this.canvas.height,s=this.img.width/t;this._isShow?this.show(s,i,t):this.infinite(s,t,i),this.animId=requestAnimationFrame(()=>this.render())}infinite(t,i,s){this.ctx&&(this.x===i?this.y=-1:0===this.x&&(this.y=1),this.ctx.drawImage(this.img,this.x*t,0,1,s*t,-this.x,0,i+this.x,s),this.x+=this.y)}show(t,i,s){this.ctx&&(this.ctx.drawImage(this.img,this.x*t,0,1*t,i*t,this.x,0,s,i),this.x<s?this.x++:cancelAnimationFrame(this.animId))}destroy(){cancelAnimationFrame(this.animId),this.ctx=null,this.canvas=null}}var n=h.a.extend({name:"DrawImage",data:()=>({drawImage:null}),mounted(){const t=this.$refs.canvas;this.drawImage=new a(t,"https://images.unsplash.com/photo-1608902918218-0f142aef5cfd"),this.drawImage.init()},beforeDestroy(){this.drawImage&&this.drawImage.destroy()},methods:{show(){this.drawImage&&(this.drawImage.isShow=!0)}}}),e=(s(479),s(28)),c=Object(e.a)(n,(function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("button",{on:{click:this.show}},[this._v("show")]),this._v(" "),i("canvas",{ref:"canvas",staticClass:"canvas"})])}),[],!1,null,"54ef6229",null);i.default=c.exports}}]);