(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{223:function(e,t,n){},379:function(e,t,n){"use strict";var i=n(223);n.n(i).a},389:function(e,t,n){"use strict";n.r(t);n(113),n(159);var i=n(160),s=function(e){return new Promise((function(t){return setTimeout(t,1e3*e)}))},a=n(62),r=n(63),h=n(384),o=n(368),c=n(249),u=n(385),d=n(112),l=(n(97),n(67),n(65),null),v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return Object(a.a)(this,e),l=this,this.container=t,this.width=0,this.height=0,this.halfWidth=0,this.halfHeight=0,this.aspectRatio=0,this.functions=[],this.functionsLength=0,this.isWaiting=!1,this.init(),this}return Object(r.a)(e,[{key:"init",value:function(){window.addEventListener("resize",this.onResize.bind(this)),this.onResize()}},{key:"add",value:function(e,t){this.functions.push(e),this.functionsLength=this.functions.length,t&&e(this.width,this.height,this.halfWidth,this.halfHeight)}},{key:"remove",value:function(e){for(var t=0;t<this.functionsLength;t++)if(this.functions[t]===e){this.functions.splice(t,1);break}this.functionsLength=this.functions.length}},{key:"onResize",value:function(e){this.width=this.container===window?window.innerWidth:this.container.offsetWidth,this.height=this.container===window?window.innerHeight:this.container.offsetHeight,this.dpr=window.devicePixelRatio,this.aspectRatio=this.width/this.height,this.width>=this.height?(this.sceneWidth=1.5+this.width/2560,this.sceneHeight=this.sceneWidth/this.aspectRatio):(this.sceneHeight=1.5+this.height/1280,this.sceneWidth=this.sceneHeight*this.aspectRatio),this.isWaiting=!1;for(var t=0;t<this.functionsLength;t++)this.functions[t](this.width,this.height)}}],[{key:"getInstance",value:function(){return l||(l=new e)}},{key:"add",value:function(e,t){this.getInstance().add(e,t)}},{key:"remove",value:function(e){this.getInstance().remove(e)}},{key:"width",value:function(){return this.getInstance().width}},{key:"height",value:function(){return this.getInstance().height}},{key:"sceneWidth",value:function(){return this.getInstance().sceneWidth}},{key:"sceneHeight",value:function(){return this.getInstance().sceneHeight}},{key:"dpr",value:function(){return this.getInstance().dpr}},{key:"destroy",value:function(){l=null}},{key:"disposeThreeObjects",value:function(e,t){e.children.forEach((function(t){t.traverse((function(e){return function(e){e.geometry&&(e.geometry.dispose(),e.geometry=null);e.material&&e.material instanceof Array?e.material.forEach((function(e){return f(e)})):e.material&&f(e.material)}(e)})),e.remove(t)})),t.dispose(),t.forceContextLoss(),t.domElement=null}}]),e}();function f(e){e.map&&(e.map.dispose(),e.map=null),e.dispose(),e=null}var m,p="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",x="#define GLSLIFY 1\n// precision mediump float;\n\nuniform sampler2D texture;\nuniform float time;\nuniform float seed;\n\nvarying vec2 vUv;\n\nfloat random(vec2 p) {\n  return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\n  //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nfloat pattern(vec2 p) {\n  vec2 pp = vec2(snoise(p + vec2(0.0, 0.0)), snoise(p + vec2(5.4 + time * 0.1, 2.1)));\n  return snoise(pp);\n}\n\nvoid main() {\n  vec2 uv = vUv;\n\n  float n = pattern(vec2(uv.x * 2.2, uv.y * 8.8) + vec2(seed));\n  n = pow(n * 0.8, 8.0);\n  uv += 0.2 * n;\n\n  vec4 color = texture2D(texture, uv);\n  float mask = 1.0 - color.a;\n  color.rgb -= 0.2 * random(uv * 5.0) * mask;\n\n  gl_FragColor = color;\n}\n",g=function(){function e(){return Object(a.a)(this,e),this.texture=null,this.createFontTexture({size:2048,fontSize:160}),this.material=new d.ShaderMaterial({uniforms:{texture:{type:"t",value:this.texture},time:{type:"f",value:0},seed:{type:"f",value:1e3*Math.random()}},vertexShader:p,fragmentShader:x,transparent:!0}),this.resize(),this}return Object(r.a)(e,[{key:"init",value:function(){}},{key:"createFontTexture",value:function(e){var t=e.fontSize,n=e.size,i=document.createElement("canvas"),s=1*n;i.width=s,i.height=s,console.log("TypeFontTexture",s);var a=i.getContext("2d");a.font="normal 900 ".concat(t*v.dpr(),"px sans-serif"),a.textAlign="center",a.textBaseline="middle",a.fillStyle="red";var r=15*v.dpr();a.fillText("C",s/2-175*v.dpr(),s/2+r),a.fillText("N",s/2,s/2+r),a.fillText("J",s/2+175*v.dpr(),s/2+r);var h=new d.CanvasTexture(i);h.needsUpdate=!1,this.texture=h}},{key:"resize",value:function(){var e=2*Math.max(v.sceneWidth(),v.sceneHeight());this.geometry=new d.PlaneGeometry(e,e,1,1)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1;this.material.uniforms.time.value=e}}]),e}(),w=function(e){function t(e){var n,i=e.wrap;return Object(a.a)(this,t),(n=Object(h.a)(this,Object(o.a)(t).call(this,{wrap:i}))).resizeFunction=n.resize.bind(Object(c.a)(n)),n.title=new g,n.meth=new d.Mesh(n.title.geometry,n.title.material),n.scene.add(n.meth),Object(h.a)(n,Object(c.a)(n))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"start",value:function(){v.add(this.resizeFunction,!0)}},{key:"finish",value:function(){this.needsStopUpdate=!0,v.remove(this.resizeFunction),v.disposeThreeObjects(this.scene,this.renderer),v.destroy(),this.container.width=1,this.container.height=1}},{key:"resize",value:function(e,t){this.needsStopUpdate=!0,this.setConfig(e,t),this.title.resize(),this.resizeScene(),this.needsStopUpdate=!1,console.log("ðŸ”¥ TypoInit resize")}},{key:"update",value:function(){if(!this.needsStopUpdate){var e=.001*performance.now();this.title.update(e),this.renderer.render(this.scene,this.camera)}}}]),t}(function(){function e(t){var n=t.wrap;Object(a.a)(this,e),this.container=n,new v(this.container),this.setConfig(v.width(),v.height()),this.scene=new d.Scene,this.camera=new d.OrthographicCamera(-1,1,1,-1,.001,1e3),this.camera.position.set(0,0,50),this.camera.lookAt(this.scene.position);var i=new d.Color("hsl(220, 50%,0%)");return this.backColor=i.getHexString(),this.renderer=new d.WebGLRenderer({canvas:this.container,antialias:!1,alpha:!1,stencil:!1,depth:!1}),this.renderer.setClearColor(i.getHex()),this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(this.dpr),this}return Object(r.a)(e,[{key:"setConfig",value:function(e,t){this.dpr=window.devicePixelRatio,this.width=e,this.height=t,this.halfWidth=this.width/2,this.halfHeight=this.height/2,this.aspectRatio=this.width/this.height,this.width>=this.height?(this.sceneWidth=1.5+this.width/2560,this.sceneHeight=this.sceneWidth/this.aspectRatio):(this.sceneHeight=1.5+this.height/1280,this.sceneWidth=this.sceneHeight*this.aspectRatio)}},{key:"resizeScene",value:function(){this.camera.aspect=this.aspectRatio,this.camera.left=-this.sceneWidth/2,this.camera.right=this.sceneWidth/2,this.camera.top=this.sceneHeight/2,this.camera.bottom=-this.sceneHeight/2,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height),console.log("ðŸ”¥ TypoCreateRenderer resizeScene")}},{key:"initRenderer",value:function(){}}]),e}()),y={name:"ThreeTypo",data:function(){return{canvas:null,frameID:null,updateFunction:null}},watch:{},mounted:function(){this.init()},beforeDestroy:function(){cancelAnimationFrame(this.frameID),this.canvas.finish()},methods:{init:(m=Object(i.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.canvas=new w({wrap:this.$refs.canvas}),this.canvas.start(),this.updateFunction=this.update.bind(this),e.next=5,s(1);case 5:this.update();case 6:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)}),update:function(){this.frameID=requestAnimationFrame(this.updateFunction),this.canvas.update()}}},b=(n(379),n(2)),k=Object(b.a)(y,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"wrap",staticClass:"wrap"},[t("canvas",{ref:"canvas",staticClass:"canvas",attrs:{id:"canvas"}})])}),[],!1,null,"008815e2",null);t.default=k.exports}}]);