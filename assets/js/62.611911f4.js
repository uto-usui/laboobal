(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{548:function(e,t,n){var o,i=window.THREE||n(342);e.exports=o=function(e,t){var n=this,o={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.target=new i.Vector3;var s=new i.Vector3,a=o.NONE,r=o.NONE,c=new i.Vector3,h=new i.Vector2,p=new i.Vector2,d=new i.Vector3,l=0,u=new i.Vector2,m=new i.Vector2,g=0,y=0,w=new i.Vector2,v=new i.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone();var f={type:"change"},b={type:"start"},E={type:"end"};this.handleResize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else{var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}},this.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)};var L,k,O,C,P,V,S,T,M,x,A,j=(L=new i.Vector2,function(e,t){return L.set((e-n.screen.left)/n.screen.width,(t-n.screen.top)/n.screen.height),L}),D=function(){var e=new i.Vector2;return function(t,o){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-o))/n.screen.width),e}}();function N(e,t){return Array.isArray(e)?-1!==e.indexOf(t):e===t}function R(e){!1!==n.enabled&&(window.removeEventListener("keydown",R),r=a,a===o.NONE&&(N(n.keys[o.ROTATE],e.keyCode)&&!n.noRotate?a=o.ROTATE:N(n.keys[o.ZOOM],e.keyCode)&&!n.noZoom?a=o.ZOOM:N(n.keys[o.PAN],e.keyCode)&&!n.noPan&&(a=o.PAN)))}function Y(e){!1!==n.enabled&&(a=r,window.addEventListener("keydown",R,!1))}function X(e){!1!==n.enabled&&(e.preventDefault(),e.stopPropagation(),a===o.NONE&&(a=e.button),a!==o.ROTATE||n.noRotate?a!==o.ZOOM||n.noZoom?a!==o.PAN||n.noPan||(w.copy(j(e.pageX,e.pageY)),v.copy(w)):(u.copy(j(e.pageX,e.pageY)),m.copy(u)):(p.copy(D(e.pageX,e.pageY)),h.copy(p)),document.addEventListener("mousemove",z,!1),document.addEventListener("mouseup",Z,!1),n.dispatchEvent(b))}function z(e){!1!==n.enabled&&(e.preventDefault(),e.stopPropagation(),a!==o.ROTATE||n.noRotate?a!==o.ZOOM||n.noZoom?a!==o.PAN||n.noPan||v.copy(j(e.pageX,e.pageY)):m.copy(j(e.pageX,e.pageY)):(h.copy(p),p.copy(D(e.pageX,e.pageY))))}function Z(e){!1!==n.enabled&&(e.preventDefault(),e.stopPropagation(),a=o.NONE,document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",Z),n.dispatchEvent(E))}function F(e){if(!1!==n.enabled){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:u.y-=.025*e.deltaY;break;case 1:u.y-=.01*e.deltaY;break;default:u.y-=25e-5*e.deltaY}n.dispatchEvent(b),n.dispatchEvent(E)}}function _(e){if(!1!==n.enabled){switch(e.touches.length){case 1:a=o.TOUCH_ROTATE,p.copy(D(e.touches[0].pageX,e.touches[0].pageY)),h.copy(p);break;default:a=o.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;y=g=Math.sqrt(t*t+i*i);var s=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;w.copy(j(s,r)),v.copy(w)}n.dispatchEvent(b)}}function q(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:h.copy(p),p.copy(D(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY;y=Math.sqrt(t*t+o*o);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,s=(e.touches[0].pageY+e.touches[1].pageY)/2;v.copy(j(i,s))}}function G(e){if(!1!==n.enabled){switch(e.touches.length){case 0:a=o.NONE;break;case 1:a=o.TOUCH_ROTATE,p.copy(D(e.touches[0].pageX,e.touches[0].pageY)),h.copy(p)}n.dispatchEvent(E)}}function H(e){!1!==n.enabled&&e.preventDefault()}this.rotateCamera=(O=new i.Vector3,C=new i.Quaternion,P=new i.Vector3,V=new i.Vector3,S=new i.Vector3,T=new i.Vector3,function(){T.set(p.x-h.x,p.y-h.y,0),(k=T.length())?(c.copy(n.object.position).sub(n.target),P.copy(c).normalize(),V.copy(n.object.up).normalize(),S.crossVectors(V,P).normalize(),V.setLength(p.y-h.y),S.setLength(p.x-h.x),T.copy(V.add(S)),O.crossVectors(T,c).normalize(),k*=n.rotateSpeed,C.setFromAxisAngle(O,k),c.applyQuaternion(C),n.object.up.applyQuaternion(C),d.copy(O),l=k):!n.staticMoving&&l&&(l*=Math.sqrt(1-n.dynamicDampingFactor),c.copy(n.object.position).sub(n.target),C.setFromAxisAngle(d,l),c.applyQuaternion(C),n.object.up.applyQuaternion(C)),h.copy(p)}),this.zoomCamera=function(){var e;a===o.TOUCH_ZOOM_PAN?(e=g/y,g=y,c.multiplyScalar(e)):(1!==(e=1+(m.y-u.y)*n.zoomSpeed)&&e>0&&c.multiplyScalar(e),n.staticMoving?u.copy(m):u.y+=(m.y-u.y)*this.dynamicDampingFactor)},this.panCamera=(M=new i.Vector2,x=new i.Vector3,A=new i.Vector3,function(){M.copy(v).sub(w),M.lengthSq()&&(M.multiplyScalar(c.length()*n.panSpeed),A.copy(c).cross(n.object.up).setLength(M.x),A.add(x.copy(n.object.up).setLength(M.y)),n.object.position.add(A),n.target.add(A),n.staticMoving?w.copy(v):w.add(M.subVectors(v,w).multiplyScalar(n.dynamicDampingFactor)))}),this.checkDistances=function(){n.noZoom&&n.noPan||(c.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,c.setLength(n.maxDistance)),u.copy(m)),c.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,c.setLength(n.minDistance)),u.copy(m)))},this.update=function(){c.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,c),n.checkDistances(),n.object.lookAt(n.target),s.distanceToSquared(n.object.position)>1e-6&&(n.dispatchEvent(f),s.copy(n.object.position))},this.reset=function(){a=o.NONE,r=o.NONE,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),c.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(f),s.copy(n.object.position)},this.dispose=function(){this.domElement.removeEventListener("contextmenu",H,!1),this.domElement.removeEventListener("mousedown",X,!1),this.domElement.removeEventListener("wheel",F,!1),this.domElement.removeEventListener("touchstart",_,!1),this.domElement.removeEventListener("touchend",G,!1),this.domElement.removeEventListener("touchmove",q,!1),document.removeEventListener("mousemove",z,!1),document.removeEventListener("mouseup",Z,!1),window.removeEventListener("keydown",R,!1),window.removeEventListener("keyup",Y,!1)},this.domElement.addEventListener("contextmenu",H,!1),this.domElement.addEventListener("mousedown",X,!1),this.domElement.addEventListener("wheel",F,!1),this.domElement.addEventListener("touchstart",_,!1),this.domElement.addEventListener("touchend",G,!1),this.domElement.addEventListener("touchmove",q,!1),window.addEventListener("keydown",R,!1),window.addEventListener("keyup",Y,!1),this.handleResize(),this.update()},o.prototype=Object.create(i.EventDispatcher.prototype)},553:function(e,t,n){"use strict";n.r(t),n.d(t,"VideoScript",(function(){return c}));n(11),n(39);var o=n(20),i=n(29),s=n(342),a=n(548),r=n.n(a),c=function(){function e(t){var n=t.wrap,i=t.video;return Object(o.a)(this,e),this.scene=new s.Scene,this.wrap=n,this.video=i,this.renderer=null,this.camera=null,this.trackballControls=null,this.groundPlane=null,this.ambientLight=null,this.spotLight=null,this.mesh=null,this.material=null,this.geometry=null,this.initRenderer(),this.initCamera(),this.initTrackballControls(),this.addLargeGroundPlane(),this.initDefaultLighting(),this.initTexture(),this.addGeometry(),this.clock=new s.Clock,this.render(),this}return Object(i.a)(e,[{key:"initRenderer",value:function(){this.renderer=new s.WebGLRenderer,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMapSoft=!0,this.renderer.shadowMap.type=s.PCFSoftShadowMap,this.renderer.setClearColor(new s.Color(12255232)),this.renderer.setSize(this.wrap.getBoundingClientRect().width,this.wrap.getBoundingClientRect().height),this.wrap.appendChild(this.renderer.domElement)}},{key:"initCamera",value:function(){this.camera=new s.PerspectiveCamera(45,this.wrap.getBoundingClientRect().width/this.wrap.getBoundingClientRect().height,.1,1e3),this.camera.position.copy(new s.Vector3(40,0,50)),this.camera.lookAt(new s.Vector3(0,0,0))}},{key:"initTrackballControls",value:function(){this.trackballControls=new r.a(this.camera,this.wrap),this.trackballControls.rotateSpeed=1,this.trackballControls.zoomSpeed=1.5,this.trackballControls.panSpeed=1,this.trackballControls.noZoom=!1,this.trackballControls.noPan=!1,this.trackballControls.staticMoving=!0,this.trackballControls.dynamicDampingFactor=.1,this.trackballControls.keys=[65,83,68]}},{key:"addLargeGroundPlane",value:function(){var e=new s.PlaneGeometry(1e3,1e3),t=new s.MeshPhongMaterial({color:16777215});this.groundPlane=new s.Mesh(e,t),this.groundPlane.receiveShadow=!0,this.groundPlane.rotation.x=-.5*Math.PI,this.groundPlane.position.x=0,this.groundPlane.position.y=0,this.groundPlane.position.z=0,this.groundPlane.position.y=-20,this.scene.add(this.groundPlane)}},{key:"initDefaultLighting",value:function(){this.spotLight=new s.SpotLight(16777215),this.spotLight.position.copy(new s.Vector3(0,30,50)),this.spotLight.shadow.mapSize.width=2048,this.spotLight.shadow.mapSize.height=2048,this.spotLight.shadow.camera.fov=15,this.spotLight.castShadow=!0,this.spotLight.decay=2,this.spotLight.penumbra=.05,this.scene.add(this.spotLight),this.ambientLight=new s.AmbientLight(4473924),this.scene.add(this.ambientLight)}},{key:"initTexture",value:function(){this.texture=new s.VideoTexture(this.video),this.texture.minFilter=s.LinearFilter,this.texture.magFilter=s.LinearFilter,this.texture.format=s.RGBFormat,this.texture.generateMipmaps=!1}},{key:"addGeometry",value:function(){this.geometry=new s.IcosahedronGeometry(8,0),this.material=new s.MeshStandardMaterial({map:this.texture,metalness:.2,roughness:.05}),this.mesh=new s.Mesh(this.geometry,this.material),this.mesh.castShadow=!0,this.scene.add(this.mesh)}},{key:"render",value:function(){var e=this;this.trackballControls.update(this.clock.getDelta()),this.renderer.render(this.scene,this.camera),this.mesh.rotation.x+=.01;requestAnimationFrame((function(t){return e.render(t)}))}},{key:"destroy",value:function(){this.trackballControls.dispose(),this.scene.remove(this.mesh),this.geometry.dispose(),this.material.dispose(),this.renderer.domElement=null}}]),e}()}}]);