(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{111:function(t,e,n){var i=n(35);i(i.P,"Function",{bind:n(114)})},114:function(t,e,n){"use strict";var i=n(41),r=n(6),s=n(115),o=[].slice,a={},c=function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("F,a","return new F("+i.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=o.call(arguments,1),a=function(){var i=n.concat(o.call(arguments));return this instanceof a?c(e,i.length,i):s(e,i,t)};return r(e.prototype)&&(a.prototype=e.prototype),a}},115:function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},153:function(t,e,n){"use strict";var i,r,s=n(169),o=RegExp.prototype.exec,a=String.prototype.replace,c=o,u=(i=/a/,r=/b*/g,o.call(i,"a"),o.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(t){var e,n,i,r,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",s.call(c))),u&&(e=c.lastIndex),i=o.call(c,t),u&&i&&(c.lastIndex=c.global?i.index+i[0].length:e),l&&i&&i.length>1&&a.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=c},156:function(t,e,n){"use strict";var i=n(35),r=n(43)(!1),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(o||!n(69)(s)),"Array",{indexOf:function(t){return o?s.apply(this,arguments)||0:r(this,t,arguments[1])}})},165:function(t,e,n){var i=n(6),r=n(21),s=n(64)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},166:function(t,e,n){"use strict";var i=n(171)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},167:function(t,e,n){"use strict";var i=n(172),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var s=n.call(t,e);if("object"!=typeof s)throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},168:function(t,e,n){"use strict";n(173);var i=n(19),r=n(18),s=n(8),o=n(20),a=n(64),c=n(153),u=a("species"),l=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=a(t),v=!s((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),d=v?!s((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[f](""),!e})):void 0;if(!v||!d||"replace"===t&&!l||"split"===t&&!h){var p=/./[f],g=n(o,f,""[t],(function(t,e,n,i,r){return e.exec===c?v&&!r?{done:!0,value:p.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),m=g[0],x=g[1];i(String.prototype,t,m),r(RegExp.prototype,f,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}}},169:function(t,e,n){"use strict";var i=n(9);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},171:function(t,e,n){var i=n(27),r=n(20);t.exports=function(t){return function(e,n){var s,o,a=String(r(e)),c=i(n),u=a.length;return c<0||c>=u?t?"":void 0:(s=a.charCodeAt(c))<55296||s>56319||c+1===u||(o=a.charCodeAt(c+1))<56320||o>57343?t?a.charAt(c):s:t?a.slice(c,c+2):o-56320+(s-55296<<10)+65536}}},172:function(t,e,n){var i=n(21),r=n(64)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:s?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},173:function(t,e,n){"use strict";var i=n(153);n(35)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},230:function(t,e,n){},360:function(t,e,n){"use strict";var i=n(165),r=n(9),s=n(361),o=n(166),a=n(36),c=n(167),u=n(153),l=n(8),h=Math.min,f=[].push,v=!l((function(){RegExp(4294967295,"y")}));n(168)("split",2,(function(t,e,n,l){var d;return d="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);for(var s,o,a,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,v=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,l+"g");(s=u.call(d,r))&&!((o=d.lastIndex)>h&&(c.push(r.slice(h,s.index)),s.length>1&&s.index<r.length&&f.apply(c,s.slice(1)),a=s[0].length,h=o,c.length>=v));)d.lastIndex===s.index&&d.lastIndex++;return h===r.length?!a&&d.test("")||c.push(""):c.push(r.slice(h)),c.length>v?c.slice(0,v):c}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),s=null==n?void 0:n[e];return void 0!==s?s.call(n,r,i):d.call(String(r),n,i)},function(t,e){var i=l(d,t,this,e,d!==n);if(i.done)return i.value;var u=r(t),f=String(this),p=s(u,RegExp),g=u.unicode,m=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(v?"y":"g"),x=new p(v?u:"^(?:"+u.source+")",m),w=void 0===e?4294967295:e>>>0;if(0===w)return[];if(0===f.length)return null===c(x,f)?[f]:[];for(var y=0,S=0,b=[];S<f.length;){x.lastIndex=v?S:0;var P,C=c(x,v?f:f.slice(S));if(null===C||(P=h(a(x.lastIndex+(v?0:S)),f.length))===y)S=o(f,S,g);else{if(b.push(f.slice(y,S)),b.length===w)return b;for(var M=1;M<=C.length-1;M++)if(b.push(C[M]),b.length===w)return b;S=y=P}}return b.push(f.slice(y)),b}]}))},361:function(t,e,n){var i=n(9),r=n(41),s=n(64)("species");t.exports=function(t,e){var n,o=i(t).constructor;return void 0===o||null==(n=i(o)[s])?e:r(n)}},362:function(t,e,n){"use strict";var i=n(230);n.n(i).a},417:function(t,e,n){"use strict";n.r(e);n(360),n(92),n(156),n(111);var i=n(62),r=n(63),s=n(112),o=n(89),a=function(t){return"\n  uniform float uProgress;\n  uniform vec2 uMeshScale;\n  uniform vec2 uMeshPosition;\n  uniform vec2 uViewSize;\n  varying vec2 vUv;\n\n  void main(){\n    vec3 pos = position.xyz;\n    \n    ".concat(t,"\n    \n    float latestStart = 0.5;\n    float startAt = activation * latestStart;\n    float vertexProgress = smoothstep(startAt,1.,uProgress);\n       \n    // Scale to page view size/page size\n    vec2 scaleToViewSize = uViewSize / uMeshScale - 1.;\n    vec2 scale = vec2(\n      1. + scaleToViewSize * vertexProgress\n    );\n    pos.xy *= scale;\n    \n    // Move towards center \n    pos.y += -uMeshPosition.y * vertexProgress;\n    pos.x += -uMeshPosition.x * vertexProgress;\n    \n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos,1.);\n    vUv = uv;\n  }\n")},c="\n  uniform vec3 uColor;\n  void main(){\n    vec3 color = uColor /255.;\n    gl_FragColor = vec4(color,1.);\n  }\n",u=a("\n  float activation = uv.x;\n"),l=function(){function t(e){var n=e.canvas,r=e.items;Object(i.a)(this,t),this.canvas=n,this.items=r,this.camera=null,this.scene=null,this.renderer=null,this.width=n.offsetWidth,this.height=n.offsetHeight,console.log(this.width,this.height),this.vertexShader=u,this.fragmentShader=c,this.uniforms={uProgress:new s.Uniform(0),uMeshScale:new s.Uniform(new s.Vector2(1,1)),uMeshPosition:new s.Uniform(new s.Vector2(0,0)),uViewSize:new s.Uniform(new s.Vector2(1,1)),uColor:new s.Uniform(new s.Vector3(20,20,20))},this.animating=!1,this.state="grid",this.itemIndex=-1}return Object(r.a)(t,[{key:"toGrid",value:function(){var t=this;"grid"===this.state||this.isAnimating||(this.animating=!0,this.tween=o.f.to(this.uniforms.uProgress,1,{value:0,onUpdate:this.render.bind(this),onComplete:function(){t.isAnimating=!1,t.state="grid",t.canvas.style.zIndex=-1,t.items[t.itemIndex].style.opacity=1}}))}},{key:"toFullscreen",value:function(){var t=this;"fullscreen"===this.state||this.isAnimating||(this.animating=!0,this.canvas.style.zIndex=2,this.items[this.itemIndex].style.opacity=0,this.tween=o.f.to(this.uniforms.uProgress,1,{value:1,onUpdate:this.render.bind(this),onComplete:function(){t.isAnimating=!1,t.state="fullscreen",t.toGrid()}}))}},{key:"init",value:function(){var t=this;this.renderer=new s.WebGLRenderer({canvas:this.canvas,alpha:!0,antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),this.scene=new s.Scene,this.camera=new s.PerspectiveCamera(45,this.width/this.height,.1,1e4),this.camera.position.z=50,this.camera.lookAt=this.scene.position;var e=this.getViewSize();this.uniforms.uViewSize.value.x=e.width,this.uniforms.uViewSize.value.y=e.height;var n=new s.PlaneBufferGeometry(1,1,128,128),i=new s.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,side:s.DoubleSide});this.mesh=new s.Mesh(n,i),this.scene.add(this.mesh),window.addEventListener("resize",this.onResize.bind(this));for(var r=function(e){t.items[e].addEventListener("click",(function(n){return t.onGridImageClick(n,e)}))},o=0;o<this.items.length;o++)r(o);this.vertexShader=this.setVertex(a("\n  float activation = uv.x;\n"))}},{key:"updateMesh",value:function(){if(-1!==this.itemIndex){var t=this.items[this.itemIndex],e=t.getBoundingClientRect(),n=this.canvas.getBoundingClientRect(),i=this.getViewSize(),r=e.width*i.width/this.width,s=e.height*i.height/this.height,o=(e.left-n.left)*i.width/this.width,a=(e.top-n.top)*i.height/this.height,c=(o-=i.width/2)+r/2,u=-(a-=i.height/2)-s/2,l=this.mesh;l.scale.x=r,l.scale.y=s,l.position.x=c,l.position.y=u,this.uniforms.uMeshPosition.value.x=c/r,this.uniforms.uMeshPosition.value.y=u/s,this.uniforms.uMeshScale.value.x=r,this.uniforms.uMeshScale.value.y=s;var h=window.getComputedStyle(t).getPropertyValue("background-color"),f=(h=h.substring(h.indexOf("(")+1,h.indexOf(")"))).split(",",3).map((function(t){return parseInt(t)}));this.uniforms.uColor.value.x=f[0],this.uniforms.uColor.value.y=f[1],this.uniforms.uColor.value.z=f[2]}}},{key:"onGridImageClick",value:function(t,e){console.log("click"),this.itemIndex=e,this.updateMesh(),this.toFullscreen()}},{key:"setVertex",value:function(t){this.mesh.material.vertexShader=t,this.mesh.material.needsUpdate=!0}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"getViewSize",value:function(){var t=this.camera.fov*Math.PI/180,e=Math.abs(this.camera.position.z*Math.tan(t/2)*2);return{width:e*this.camera.aspect,height:e}}},{key:"onResize",value:function(){this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height),this.updateMesh(),this.render()}}]),t}(),h={name:"ThreeScale",data:function(){return{scale:null}},watch:{},mounted:function(){this.scale=new l({canvas:this.$refs.canvas,items:this.$refs.item}),this.scale.init()},beforeDestroy:function(){},methods:{}},f=(n(362),n(2)),v=Object(f.a)(h,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"wrap",staticClass:"wrap"},[e("canvas",{ref:"canvas",staticClass:"canvas",attrs:{id:"canvas"}}),this._v(" "),e("ul",{staticClass:"list"},this._l(2,(function(t){return e("li",{key:"listItem"+t,ref:"item",refInFor:!0,staticClass:"list__item"})})),0)])}),[],!1,null,"e4b988a8",null);e.default=v.exports},64:function(t,e,n){var i=n(23)("wks"),r=n(22),s=n(3).Symbol,o="function"==typeof s;(t.exports=function(t){return i[t]||(i[t]=o&&s[t]||(o?s:r)("Symbol."+t))}).store=i},69:function(t,e,n){"use strict";var i=n(8);t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},70:function(t,e,n){var i=n(24),r=n(38),s=n(79),o=n(36),a=n(97);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,h=6==t,f=5==t||h,v=e||a;return function(e,a,d){for(var p,g,m=s(e),x=r(m),w=i(a,d,3),y=o(x.length),S=0,b=n?v(e,y):c?v(e,0):void 0;y>S;S++)if((f||S in x)&&(g=w(p=x[S],S,m),t))if(n)b[S]=g;else if(g)switch(t){case 3:return!0;case 5:return p;case 6:return S;case 2:b.push(p)}else if(l)return!1;return h?-1:u||l?l:b}}},79:function(t,e,n){var i=n(20);t.exports=function(t){return Object(i(t))}},92:function(t,e,n){"use strict";var i=n(35),r=n(70)(1);i(i.P+i.F*!n(69)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},95:function(t,e,n){var i=n(21);t.exports=Array.isArray||function(t){return"Array"==i(t)}},97:function(t,e,n){var i=n(98);t.exports=function(t,e){return new(i(t))(e)}},98:function(t,e,n){var i=n(6),r=n(95),s=n(64)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?Array:e}}}]);