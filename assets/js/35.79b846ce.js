(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{255:function(e,t,n){var i=n(2);i(i.P,"Function",{bind:n(256)})},256:function(e,t,n){"use strict";var i=n(97),s=n(7),a=n(257),r=[].slice,h={},o=function(e,t,n){if(!(t in h)){for(var i=[],s=0;s<t;s++)i[s]="a["+s+"]";h[t]=Function("F,a","return new F("+i.join(",")+")")}return h[t](e,n)};e.exports=Function.bind||function(e){var t=i(this),n=r.call(arguments,1),h=function(){var i=n.concat(r.call(arguments));return this instanceof h?o(t,i.length,i):a(t,i,e)};return s(t.prototype)&&(h.prototype=t.prototype),h}},257:function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},320:function(e,t,n){},390:function(e,t,n){"use strict";var i=n(320);n.n(i).a},398:function(e,t,n){"use strict";n.r(t);n(255),n(149);var i,s=n(98),a=function(e){return new Promise(function(t){return setTimeout(t,1e3*e)})},r=n(17),h=n(26),o=n(138),c=n(140),u=n(139),l=n(141),d=n(254),f=null,v=function(){function e(){return Object(r.a)(this,e),this.width=0,this.height=0,this.halfWidth=0,this.halfHeight=0,this.functions=[],this.functionsLength=0,this.isWaiting=!1,this.container=window,this.init(),this}return Object(h.a)(e,[{key:"init",value:function(){window.addEventListener("resize",this.onResize.bind(this)),this.onResize()}},{key:"add",value:function(e,t){this.functions.push(e),this.functionsLength=this.functions.length,t&&e(this.width,this.height,this.halfWidth,this.halfHeight)}},{key:"remove",value:function(e){for(var t=0;t<this.functionsLength;t++)if(this.functions[t]===e){this.functions.splice(t,1);break}this.functionsLength=this.functions.length}},{key:"onResize",value:function(e){this.width=this.container===window?window.innerWidth:this.container.offsetWidth,this.height=this.container===window?window.innerHeight:this.container.offsetHeight,this.halfWidth=this.width/2,this.halfHeight=this.height/2,this.dpr=window.devicePixelRatio,this.aspectRatio=this.width/this.height,this.width>=this.height?(this.sceneWidth=1.5+this.width/2560,this.sceneHeight=this.sceneWidth/this.aspectRatio):(this.sceneHeight=1.5+this.height/1280,this.sceneWidth=this.sceneHeight*this.aspectRatio),this.isWaiting=!1;for(var t=0;t<this.functionsLength;t++)this.functions[t](this.width,this.height,this.halfWidth,this.halfHeight)}},{key:"destroy",value:function(){}}],[{key:"getInstance",value:function(){return f||(f=new e)}},{key:"add",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.getInstance().add(e,n)}},{key:"remove",value:function(e){this.getInstance().remove(e)}},{key:"width",value:function(){return this.getInstance().width}},{key:"height",value:function(){return this.getInstance().height}},{key:"sceneWidth",value:function(){return this.getInstance().sceneWidth}},{key:"sceneHeight",value:function(){return this.getInstance().sceneHeight}},{key:"dpr",value:function(){return this.getInstance().dpr}}]),e}(),p="#define GLSLIFY 1\n#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",m="#define GLSLIFY 1\n#define GLSLIFY 1\n// precision mediump float;\n\nuniform sampler2D texture;\nuniform float time;\nuniform float seed;\n\nvarying vec2 vUv;\n\nfloat random(vec2 p) {\n  return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\n  //\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nfloat pattern(vec2 p) {\n  vec2 pp = vec2(snoise(p + vec2(0.0, 0.0)), snoise(p + vec2(5.4 + time * 0.1, 1.1)));\n  return snoise(pp);\n}\n\nvoid main() {\n  vec2 uv = vUv;\n\n  float n = pattern(vec2(uv.x * 2.2, uv.y * 8.8) + vec2(seed));\n  n = pow(n * 0.8, 8.0);\n  uv += 0.2 * n;\n\n  vec4 color = texture2D(texture, uv);\n  float mask = 1.0 - color.a;\n  color.rgb -= 0.2 * random(uv * 5.0) * mask;\n\n  gl_FragColor = color;\n}\n",x=function(){function e(){return Object(r.a)(this,e),this.texture=null,this.createFontTexture({size:2048,fontSize:160}),this.material=new d.ShaderMaterial({uniforms:{texture:{type:"t",value:this.texture},time:{type:"f",value:0},seed:{type:"f",value:1e3*Math.random()}},vertexShader:p,fragmentShader:m,transparent:!0}),this.resize(),this}return Object(h.a)(e,[{key:"init",value:function(){}},{key:"createFontTexture",value:function(e){var t=e.fontSize,n=e.size,i=document.createElement("canvas"),s=1*n;i.width=s,i.height=s,console.log("TypeFontTexture",s);var a=i.getContext("2d");a.font="normal 900 ".concat(t*v.dpr(),"px sans-serif"),a.textAlign="center",a.textBaseline="middle",a.fillStyle="red";var r=15*v.dpr();a.fillText("P",s/2-175*v.dpr(),s/2+r),a.fillText("O",s/2,s/2+r),a.fillText("N",s/2+175*v.dpr(),s/2+r);var h=new d.CanvasTexture(i);h.needsUpdate=!1,this.texture=h}},{key:"resize",value:function(){var e=.8*Math.max(v.sceneWidth(),v.sceneHeight());this.geometry=new d.PlaneGeometry(e,e,1,1),console.log("this.geometry",this.geometry,v.sceneWidth(),v.sceneHeight())}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1;this.material.uniforms.time.value=e}}]),e}(),g=function(e){function t(e){var n,i=e.wrap;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,{wrap:i}))).resizeFunction=n.resize.bind(Object(u.a)(n)),n.title=new x,n.meth=new d.Mesh(n.title.geometry,n.title.material),n.scene.add(n.meth),Object(o.a)(n,Object(u.a)(n))}return Object(l.a)(t,e),Object(h.a)(t,[{key:"start",value:function(){this.appendCanvas(),v.add(this.resizeFunction)}},{key:"finish",value:function(){v.remove(this.resizeFunction),this.renderer.dispose()}},{key:"resize",value:function(e,t){this.needsStopUpdate=!0,this.setConfig(e,t),this.title.resize(),this.resizeScene(),this.needsStopUpdate=!1,console.log("ðŸ”¥ TypoInit resize")}},{key:"update",value:function(){if(!this.needsStopUpdate){var e=.001*performance.now();this.title.update(e),this.renderer.render(this.scene,this.camera)}}},{key:"destroy",value:function(){}}]),t}(function(){function e(t){var n=t.wrap;Object(r.a)(this,e),this.scene=new d.Scene,this.container=n,console.log("ðŸ’„ set config",v.width(),v.height()),this.setConfig(v.width(),v.height()),this.camera=new d.OrthographicCamera(-1,1,1,-1,.001,1e3),this.camera.position.set(0,0,50),this.camera.lookAt(this.scene.position);var i=new d.Color("hsl(220, 50%, 5%)");return this.backColor=i.getHexString(),this.renderer=new d.WebGLRenderer({antialias:!1,alpha:!1,stencil:!1,depth:!1}),this.renderer.setClearColor(i.getHex()),this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(this.dpr),console.log("ðŸ“± this.dpr",this.dpr),this}return Object(h.a)(e,[{key:"appendCanvas",value:function(){this.container.appendChild(this.renderer.domElement)}},{key:"setConfig",value:function(e,t){this.dpr=window.devicePixelRatio,this.width=e,this.height=t,this.halfWidth=this.width/2,this.halfHeight=this.height/2,this.aspectRatio=this.width/this.height,this.width>=this.height?(this.sceneWidth=1.5+this.width/2560,this.sceneHeight=this.sceneWidth/this.aspectRatio):(this.sceneHeight=1.5+this.height/1280,this.sceneWidth=this.sceneHeight*this.aspectRatio)}},{key:"resizeScene",value:function(){this.camera.aspect=this.aspectRatio,this.camera.left=-this.sceneWidth/2,this.camera.right=this.sceneWidth/2,this.camera.top=this.sceneHeight/2,this.camera.bottom=-this.sceneHeight/2,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height),console.log("ðŸ”¥ TypoCreateCanvas resizeScene")}},{key:"initRenderer",value:function(){}},{key:"destroy",value:function(){}}]),e}()),w={name:"ThreeTypo",data:function(){return{canvas:null,frameID:null,updateFunction:null}},watch:{},mounted:function(){this.init()},beforeDestroy:function(){cancelAnimationFrame(this.frameID),this.canvas.finish()},methods:{init:(i=Object(s.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.canvas=new g({wrap:this.$refs.canvas}),this.canvas.start(),this.updateFunction=this.update.bind(this),e.next=5,a(1);case 5:this.update();case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),update:function(){this.frameID=requestAnimationFrame(this.updateFunction),this.canvas.update()}}},y=(n(390),n(25)),k=Object(y.a)(w,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"wrap",staticClass:"wrap"},[t("div",{ref:"canvas",staticClass:"canvas",attrs:{id:"canvas"}})])},[],!1,null,"28861d8c",null);t.default=k.exports}}]);